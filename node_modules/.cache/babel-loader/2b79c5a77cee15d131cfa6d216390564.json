{"remainingRequest":"/home/john/code/gc-chatbot-fe/node_modules/babel-loader/lib/index.js!/home/john/code/gc-chatbot-fe/node_modules/eslint-loader/index.js??ref--13-0!/home/john/code/gc-chatbot-fe/src/utils/http/index.js","dependencies":[{"path":"/home/john/code/gc-chatbot-fe/src/utils/http/index.js","mtime":1594988545650},{"path":"/home/john/code/gc-chatbot-fe/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/john/code/gc-chatbot-fe/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/john/code/gc-chatbot-fe/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZyI7CmltcG9ydCBucHJvZ3Jlc3MgZnJvbSAnQHV0aWxzLy9ucHJvZ3Jlc3MnOwppbXBvcnQgY29uZmlnIGZyb20gJ0Bjb25maWcnOwppbXBvcnQgc3RvcmUgZnJvbSAnQHN0b3JlJzsKCnZhciBheGlvcyA9IHJlcXVpcmUoJ2F4aW9zJykuZGVmYXVsdDsKCnZhciBodHRwID0gYXhpb3MuY3JlYXRlKHsKICBiYXNlVVJMOiBwcm9jZXNzLmVudi5WVUVfQVBQX1VSTCwKICBoZWFkZXJzOiBjb25maWcuaHR0cC5kZWZhdWx0UmVxdWVzdC5oZWFkZXJzCn0pOwovKioKICogQWRkIGEgcmVxdWVzdCBhbmQgcmVzcG9uc2UgaW50ZXJjZXB0b3IKICovCgp2YXIgYmVmb3JlUmVxdWVzdFN1Y2Nlc3MgPSBmdW5jdGlvbiBiZWZvcmVSZXF1ZXN0U3VjY2Vzcyhjb25maWd1cmF0ZSkgewogIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZQogIGNvbmZpZ3VyYXRlLmhlYWRlcnMuQXV0aG9yaXphdGlvbiA9ICJCZWFyZXIgIi5jb25jYXQoc3RvcmUuZ2V0dGVyc1snYXV0aC9nZXRUb2tlbiddKTsKICBucHJvZ3Jlc3Muc3RhcnQoKTsgLy8gc3RvcmUuZGlzcGF0Y2goJ2dsb2JhbC9zZXRBcHBMb2FkaW5nJywgdHJ1ZSk7CgogIHJldHVybiBjb25maWd1cmF0ZTsKfTsKCnZhciBiZWZvcmVSZXF1ZXN0RXJyb3IgPSBmdW5jdGlvbiBiZWZvcmVSZXF1ZXN0RXJyb3IoZXJyb3IpIHsKICBucHJvZ3Jlc3Muc3RhcnQoKTsKICByZXR1cm4gUHJvbWlzZS5yZWplY3QoZXJyb3IpOwp9OwoKdmFyIG9uU3VjY2VzcyA9IGZ1bmN0aW9uIG9uU3VjY2VzcyhyZXNwb25zZSkgewogIC8vIHN0b3JlLmRpc3BhdGNoKCdnbG9iYWwvc2V0QXBwTG9hZGluZycsIGZhbHNlKTsKICBucHJvZ3Jlc3MuZG9uZSgpOwogIHJldHVybiByZXNwb25zZTsKfTsKCnZhciBvbkVycm9yID0gZnVuY3Rpb24gb25FcnJvcihlcnJvcikgewogIG5wcm9ncmVzcy5kb25lKCk7IC8vIHN0b3JlLmRpc3BhdGNoKCdnbG9iYWwvc2V0QXBwTG9hZGluZycsIGZhbHNlKTsKCiAgcmV0dXJuIFByb21pc2UucmVqZWN0KGVycm9yKTsKfTsKCmh0dHAuaW50ZXJjZXB0b3JzLnJlcXVlc3QudXNlKGJlZm9yZVJlcXVlc3RTdWNjZXNzLCBiZWZvcmVSZXF1ZXN0RXJyb3IpOwpodHRwLmludGVyY2VwdG9ycy5yZXNwb25zZS51c2Uob25TdWNjZXNzLCBvbkVycm9yKTsKZXhwb3J0IGRlZmF1bHQgaHR0cDs="},{"version":3,"sources":["/home/john/code/gc-chatbot-fe/src/utils/http/index.js"],"names":["nprogress","config","store","axios","require","default","http","create","baseURL","process","env","VUE_APP_URL","headers","defaultRequest","beforeRequestSuccess","configurate","Authorization","getters","start","beforeRequestError","error","Promise","reject","onSuccess","response","done","onError","interceptors","request","use"],"mappings":";AAAA,OAAOA,SAAP,MAAsB,mBAAtB;AACA,OAAOC,MAAP,MAAmB,SAAnB;AACA,OAAOC,KAAP,MAAkB,QAAlB;;AAEA,IAAMC,KAAK,GAAGC,OAAO,CAAC,OAAD,CAAP,CAAiBC,OAA/B;;AAEA,IAAMC,IAAI,GAAGH,KAAK,CAACI,MAAN,CAAa;AACxBC,EAAAA,OAAO,EAAEC,OAAO,CAACC,GAAR,CAAYC,WADG;AAExBC,EAAAA,OAAO,EAAEX,MAAM,CAACK,IAAP,CAAYO,cAAZ,CAA2BD;AAFZ,CAAb,CAAb;AAIA;;;;AAGA,IAAME,oBAAoB,GAAG,SAAvBA,oBAAuB,CAACC,WAAD,EAAiB;AAC5C;AACAA,EAAAA,WAAW,CAACH,OAAZ,CAAoBI,aAApB,oBAA8Cd,KAAK,CAACe,OAAN,CAAc,eAAd,CAA9C;AACAjB,EAAAA,SAAS,CAACkB,KAAV,GAH4C,CAK5C;;AAEA,SAAOH,WAAP;AACD,CARD;;AAUA,IAAMI,kBAAkB,GAAG,SAArBA,kBAAqB,CAACC,KAAD,EAAW;AACpCpB,EAAAA,SAAS,CAACkB,KAAV;AACA,SAAOG,OAAO,CAACC,MAAR,CAAeF,KAAf,CAAP;AACD,CAHD;;AAKA,IAAMG,SAAS,GAAG,SAAZA,SAAY,CAACC,QAAD,EAAc;AAC9B;AACAxB,EAAAA,SAAS,CAACyB,IAAV;AAEA,SAAOD,QAAP;AACD,CALD;;AAOA,IAAME,OAAO,GAAG,SAAVA,OAAU,CAACN,KAAD,EAAW;AACzBpB,EAAAA,SAAS,CAACyB,IAAV,GADyB,CAGzB;;AAEA,SAAOJ,OAAO,CAACC,MAAR,CAAeF,KAAf,CAAP;AACD,CAND;;AAQAd,IAAI,CAACqB,YAAL,CAAkBC,OAAlB,CAA0BC,GAA1B,CAA8Bf,oBAA9B,EAAoDK,kBAApD;AACAb,IAAI,CAACqB,YAAL,CAAkBH,QAAlB,CAA2BK,GAA3B,CAA+BN,SAA/B,EAA0CG,OAA1C;AAEA,eAAepB,IAAf","sourcesContent":["import nprogress from '@utils//nprogress';\nimport config from '@config';\nimport store from '@store';\n\nconst axios = require('axios').default;\n\nconst http = axios.create({\n  baseURL: process.env.VUE_APP_URL,\n  headers: config.http.defaultRequest.headers,\n});\n/**\n * Add a request and response interceptor\n */\nconst beforeRequestSuccess = (configurate) => {\n  // eslint-disable-next-line\n  configurate.headers.Authorization = `Bearer ${store.getters['auth/getToken']}`;\n  nprogress.start();\n\n  // store.dispatch('global/setAppLoading', true);\n\n  return configurate;\n};\n\nconst beforeRequestError = (error) => {\n  nprogress.start();\n  return Promise.reject(error);\n};\n\nconst onSuccess = (response) => {\n  // store.dispatch('global/setAppLoading', false);\n  nprogress.done();\n\n  return response;\n};\n\nconst onError = (error) => {\n  nprogress.done();\n\n  // store.dispatch('global/setAppLoading', false);\n\n  return Promise.reject(error);\n};\n\nhttp.interceptors.request.use(beforeRequestSuccess, beforeRequestError);\nhttp.interceptors.response.use(onSuccess, onError);\n\nexport default http;\n"]}]}